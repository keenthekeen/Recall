{"version":3,"sources":["../../src/app/helper.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/features/features.ts","../../src/pages/master/master.ts","../../src/pages/home/home.ts","../../src/pages/addquiz/addquiz.ts","../../src/pages/addquiz-modal/addquiz-modal.ts","../../src/pages/stat/stat.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/models/user.ts","../../src/pages/quiz/quiz.ts","../../src/models/quiz.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Camera} from '@ionic-native/camera';\nimport {Firebase} from \"@ionic-native/firebase\";\nimport {Injectable} from \"@angular/core\";\nimport {AlertController} from \"ionic-angular\";\n\nexport class CameraMock extends Camera {\n    getPicture(options) {\n        if (document.URL.includes('localhost')) {\n            console.log(\"Camera: getting photo using mock\");\n            return new Promise((resolve) => {\n                resolve(\"https://c1.staticflickr.com/5/4428/35558124943_eaef481a3b_h.jpg\");\n            });\n        } else {\n            console.log(\"Camera: getting photo from camera\");\n            return super.getPicture(options);\n        }\n    }\n}\n\n@Injectable()\nexport class Helper {\n    constructor(private firebase: Firebase, private alertCtrl: AlertController) {\n    }\n\n    error(message: string) {\n        console.error(message);\n        this.firebase.logError(message);\n        this.alertCtrl.create({\n            title: 'Error Occurred!',\n            subTitle: message,\n            buttons: ['OK']\n        }).present();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/helper.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 165;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 165\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 206;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 206\n// module chunks = 0","import {Component} from '@angular/core';\nimport {NavController} from 'ionic-angular';\n\nimport {QuizPage} from '../quiz/quiz';\n\nimport {QuizModel} from '../../models/quiz';\nimport {AngularFireDatabase} from \"angularfire2/database\";\nimport {FirebaseApp} from \"angularfire2\";\n\n@Component({\n    selector: 'page-features',\n    templateUrl: 'features.html',\n})\nexport class FeaturesPage {\n    public quizzes: Array<QuizModel> = [];\n    public isLoaded: boolean;\n\n\n    constructor(public navCtrl: NavController, public db: AngularFireDatabase, private firebaseApp: FirebaseApp) {\n        QuizModel.fetch(db, {\n            query: {\n                orderByChild: 'created_at'\n            }\n        }).subscribe((list) => {\n            list.forEach((item) => {\n                this.quizzes.push(new QuizModel(item, firebaseApp));\n            });\n            this.isLoaded = true;\n        });\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad FeaturesPage');\n    }\n\n    quizPage(quiz: QuizModel) {\n        this.navCtrl.push(QuizPage, {\n            quiz: quiz\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/features/features.ts","import {Component} from '@angular/core';\nimport {HomePage} from '../home/home';\nimport {FeaturesPage} from '../features/features';\nimport {Firebase} from \"@ionic-native/firebase\";\n\n/**\n * Generated class for the MasterPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n    selector: 'page-master',\n    templateUrl: 'master.html',\n})\nexport class MasterPage {\n    tab1: any = FeaturesPage;\n    tab2: any = HomePage;\n\n    constructor(private fb: Firebase) {\n\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad MasterPage');\n    }\n\n    tabChanged(name: string) {\n        console.log(\"User is viewing \" + name);\n        this.fb.setScreenName(name);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/master/master.ts","import {Component} from '@angular/core';\nimport {ActionSheetController, LoadingController, NavController, Platform} from 'ionic-angular';\nimport {QuizPage} from '../quiz/quiz';\n\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\n\nimport {AngularFireDatabase, FirebaseListObservable} from \"angularfire2/database\";\nimport {AddquizPage} from \"../addquiz/addquiz\";\nimport {UserModel} from \"../../models/user\";\nimport {FirebaseApp} from \"angularfire2\";\nimport {QuizModel} from \"../../models/quiz\";\nimport {Firebase} from \"@ionic-native/firebase\";\nimport {Helper} from \"../../app/helper\";\nimport {StatPage} from '../stat/stat';\n\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage {\n    public quizzes: Array<QuizModel>;\n    public user: UserModel | null;\n    public isLoaded: boolean;\n\n    constructor(public navCtrl: NavController, private afAuth: AngularFireAuth, private db: AngularFireDatabase, private loadingCtrl: LoadingController, private platform: Platform, private actionSheetCtrl: ActionSheetController, private firebaseApp: FirebaseApp, private fb: Firebase, private helper: Helper) {\n        this.afAuth.auth.onAuthStateChanged(function (userData) {\n            console.log(\"Auth state changed.\");\n            if (userData) {\n                let user = this.user = new UserModel(userData);\n                user.save(db);\n                // (Native) Firebase setup\n                if (platform.is(\"android\")) {\n                    console.log(\"Platform is android.\");\n                    fb.setUserId(user.uid);\n                    fb.hasPermission().then(function (data) {\n                        console.log(\"Permission to notify\", data);\n                        if (data.isEnabled) {\n                            fb.getToken()\n                                .then(token => user.setDeviceToken(token).save(db)) // save the token server-side and use it to push notifications to this device\n                                .catch(error => this.helper.error(\"Error while getting device token.\"));\n                            fb.onTokenRefresh()\n                                .subscribe((token: string) => user.setDeviceToken(token).save(db));\n                        }\n                    }.bind(this));\n                }\n            } else {\n                this.user = null;\n            }\n            this.fetchQuiz();\n        }.bind(this));\n\n        this.getSigninResult();\n    }\n\n    signIn() {\n        this.afAuth.auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider()).then(function () {\n            this.getSigninResult();\n        }.bind(this));\n    }\n\n    signOut() {\n        let loader = this.loadingCtrl.create({\n            content: \"Signing out...\"\n        });\n        loader.present();\n        this.afAuth.auth.signOut().then(function () {\n            // Sign-out successful.\n            console.log(\"Signed out!\");\n            loader.dismiss();\n            //window.location.reload(true);\n        }).catch(function () {\n            // An error happened.\n            loader.dismiss();\n            this.helper.error(\"Error while signing out.\");\n        }.bind(this));\n    }\n\n    quizPage(quiz: any) {\n        this.navCtrl.push(QuizPage, {\n            quiz: quiz,\n        });\n    }\n\n    addQuiz() {\n        this.navCtrl.push(AddquizPage);\n    }\n\n    userAction() {\n        this.actionSheetCtrl.create({\n            title: this.user.displayName + \" (\" + this.user.email + \")\",\n            buttons: [\n                {\n                    text: 'Sign out',\n                    role: 'destructive',\n                    icon: !this.platform.is('ios') ? 'log-out' : null,\n                    handler: function () {\n                        this.signOut();\n                    }.bind(this)\n                },\n                {\n                    text: 'Cancel',\n                    role: 'cancel', // will always sort to be on the bottom\n                    icon: !this.platform.is('ios') ? 'close' : null,\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n                }\n            ]\n        }).present();\n    }\n\n    private fetchQuiz() {\n        console.log(\"Fetching quiz...\");\n        if (this.user) {\n            QuizModel.fetch(this.db, {\n                query: {\n                    orderByChild: 'owner',\n                    equalTo: this.user.uid\n                }\n            }).subscribe(function (list: FirebaseListObservable<any[]>) {\n                this.quizzes = [];\n                list.forEach(function (item) {\n                    this.quizzes.push(new QuizModel(item, this.firebaseApp));\n                }.bind(this));\n                this.isLoaded = true;\n            }.bind(this));\n        }\n    }\n\n    private getSigninResult() {\n        this.afAuth.auth.getRedirectResult().then(function (result) {\n            // This gives you a Google Access Token, you can use it to access the Google API.\n            console.log(\"Signin result\", result);\n        }.bind(this)).catch(function () {\n            // Handle Errors here.\n            this.helper.error(\"Error while signing in.\");\n        }.bind(this));\n    }\n    gostat(){\n        this.navCtrl.push(StatPage);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport {ActionSheetController, AlertController, LoadingController, ModalController, NavController, Platform, ToastController} from 'ionic-angular';\nimport {Camera} from '@ionic-native/camera';\nimport {QuizPage} from \"../quiz/quiz\";\nimport {QuizModel} from '../../models/quiz';\nimport {AddquizModalPage} from '../addquiz-modal/addquiz-modal';\n\nimport {AngularFireDatabase} from \"angularfire2/database\";\nimport {AngularFireAuth} from \"angularfire2/auth\";\nimport {FirebaseApp} from 'angularfire2';\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\nimport {Helper} from \"../../app/helper\";\n\n/**\n * Generated class for the AddquizPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n    selector: 'page-addquiz',\n    templateUrl: 'addquiz.html',\n})\n\nexport class AddquizPage {\n\n    public isUp: boolean = false;\n    public errorText: string;\n\n    public coordinates: Array<any> = [];\n    private picture: string;\n    private pinSize: number;\n    private vMin: number;\n\n    public pictureStorageRef: firebase.storage.Reference;\n\n    @ViewChild('canvas') canvasEl: ElementRef;\n\n    constructor(public navCtrl: NavController, private Camera: Camera, private db: AngularFireDatabase, private loadingCtrl: LoadingController, private afAuth: AngularFireAuth, private toastCtrl: ToastController, private actionSheetCtrl: ActionSheetController, private platform: Platform, private modalCtrl: ModalController, private alertCtrl: AlertController, firebaseApp: FirebaseApp, private helper: Helper) {\n        this.pictureStorageRef = firebaseApp.storage().ref().child(\"quiz_pictures\");\n    }\n\n    submit(name: string, caption: string) {\n        if (name.length < 3 || name.length > 100) {\n            this.errorText = \"Name must be 3-100 characters long.\";\n            return false;\n        } else if (this.picture.length == 0) {\n            this.errorText = \"Please select picture.\";\n            return false;\n        } else if (this.picture.length > 2000000) {\n            this.errorText = \"The selected picture is too big.\";\n            return false;\n        } else if (this.coordinates.length == 0) {\n            this.errorText = \"Please label the picture.\";\n            return false;\n        }\n\n        let userId = this.afAuth.auth.currentUser.uid;\n\n        let loader = this.loadingCtrl.create({\n            content: \"Uploading...\"\n        });\n        loader.present();\n\n        let quiz = new QuizModel({\n            name: name,\n            caption: caption,\n            owner: userId,\n            labels: this.coordinates,\n            stat: {\n                counter: 0,\n                rate: 0,\n            }\n        });\n\n        let afterPrepare;\n        if (this.picture.startsWith(\"data:image/\")) {\n            // Data URL string\n            let extension = this.picture.substring(this.picture.lastIndexOf(\"data:image/\") + 11, this.picture.lastIndexOf(\";base64\"));\n            let fileName = userId.substr(5, 6) + Math.round(Date.now() / 100) + Math.round(Math.random() * 100) + \".\" + extension;\n            afterPrepare = new Promise(function (resolve, reject) {\n                let uploadTask = this.pictureStorageRef.child(fileName).putString(this.picture, 'data_url');\n\n                uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, function (snapshot) {\n                    // Observe state change events such as progress, pause, and resume\n                    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                    let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                    if (progress > 0) {\n                        loader.setContent(progress + \"% uploaded...\");\n                    }\n                    switch (snapshot.state) {\n                        case firebase.storage.TaskState.PAUSED: // or 'paused'\n                            console.log('Upload is paused');\n                            break;\n                        case firebase.storage.TaskState.RUNNING: // or 'running'\n                            console.log('Upload is running');\n                            break;\n                    }\n                }, function () {\n                    // Handle unsuccessful uploads\n                    loader.setContent(\"Error occured while uploading!\").setDuration(3000);\n                    reject(\"Upload error\");\n                }, function () {\n                    // Handle successful uploads on complete\n                    console.log('Uploaded!', uploadTask);\n                    quiz.picture_on_gz = fileName;\n                    resolve(quiz);\n                });\n            }.bind(this));\n        } else {\n            afterPrepare = new Promise(function (resolve) {\n                quiz.picture = this.picture;\n                resolve(quiz);\n            }.bind(this));\n        }\n\n        afterPrepare.then(function (quiz) {\n            loader.setContent(\"Saving...\");\n            console.log(\"Saving quiz...\", quiz);\n            quiz.save(this.db).then(function () {\n                loader.dismiss();\n                this.navCtrl.pop();\n            }.bind(this));\n        }.bind(this)).catch(function () {\n            loader.dismiss();\n            this.helper.error(\"Error while saving\");\n        }.bind(this));\n    }\n\n    getPicture() {\n        console.log('AddQuiz page: getting photo');\n        let cameraOptions = {\n            sourceType: 0, // Photo Library\n            destinationType: 0, // Data URL\n            quality: 90,\n            targetWidth: 1000,\n            targetHeight: 1000,\n            encodingType: this.Camera.EncodingType.JPEG,\n            correctOrientation: true,\n        };\n        this.isUp = true;\n        this.Camera.getPicture(cameraOptions)\n            .then(file_uri => this.initializeCanvas(file_uri),\n                err => this.helper.error(\"Error while getting picture\"));\n\n    }\n\n    initializeCanvas(uri) {\n        if (!(uri.startsWith('http') || uri.startsWith('data:'))) {\n            uri = \"data:image/jpeg;base64,\" + uri;\n        }\n        this.picture = uri;\n\n        let canvas = this.canvasEl.nativeElement;\n        this.renderCanvas(canvas);\n\n        // Set up mouse events\n        canvas.addEventListener(\"mouseup\", function (e) {\n            console.log(\"Mouse clicked.\");\n            let rect = canvas.getBoundingClientRect();\n            let halfPin = this.pinSize / 2;\n            let mousePos = {\n                name: \"\",\n                other_name: [],\n                x: (e.clientX - (rect.left + halfPin)) / canvas.width,\n                y: (e.clientY - (rect.top + halfPin)) / canvas.height\n            };\n            let existName = QuizPage.isCoordinateExist(mousePos.x, mousePos.y, this.coordinates, this.pinSize / this.vMin);\n            if (existName) {\n                console.log(\"AddQuiz page: clicked \" + existName);\n                let exist = this.coordinates.filter(function (element) {\n                    return element.name == existName;\n                })[0];\n                this.actionSheetCtrl.create({\n                    title: (exist.other_name.length <= 0) ? existName : (existName + \" (\" + exist.other_name.join(\", \") + \")\"),\n                    buttons: [\n                        {\n                            text: 'Delete',\n                            role: 'destructive',\n                            icon: !this.platform.is('ios') ? 'trash' : null,\n                            handler: function () {\n                                this.coordinates = this.coordinates.filter(function (element) {\n                                    return element.name != existName;\n                                });\n                                this.renderCanvas(canvas);\n                                this.toastCtrl.create({\n                                    message: 'Deleted ' + existName + '!',\n                                    duration: 3000\n                                }).present();\n                            }.bind(this)\n                        }, {\n                            text: 'Cancel',\n                            role: 'cancel', // will always sort to be on the bottom\n                            icon: !this.platform.is('ios') ? 'close' : null,\n                            handler: () => {\n                                console.log('Cancel clicked');\n                            }\n                        }\n                    ]\n                }).present();\n            } else {\n                let AddquizModal = this.modalCtrl.create(AddquizModalPage);\n                let name: string;\n                AddquizModal.onDidDismiss(data => {\n                    console.log(data);\n                    name = data.Title;\n\n                    if (name) {\n                        if (this.coordinates.map(function (e) {\n                                // Ignore case\n                                e.name = e.name.toUpperCase();\n                                return e;\n                            }).find(x => x.name == name.toUpperCase())) {\n                            this.alertCtrl.create({\n                                title: 'Name conflict!',\n                                subTitle: \"Point's name is conflicted. Try use other name. \",\n                                buttons: ['OK']\n                            }).present();\n                        } else {\n                            mousePos.name = name;\n                            mousePos.other_name = data.OtherNames;\n                            this.coordinates.push(mousePos);\n                            this.renderCanvas(canvas);\n                            console.log(\"AddQuiz page: Added label\", mousePos);\n                        }\n                    }\n                });\n                AddquizModal.present();\n            }\n        }.bind(this), false);\n        canvas.addEventListener(\"mousemove\", function (e) {\n            let rect = canvas.getBoundingClientRect();\n            let halfPin = this.pinSize / 2;\n            let mousePos = {\n                x: (e.clientX - (rect.left + halfPin)) / canvas.width,\n                y: (e.clientY - (rect.top + halfPin)) / canvas.height\n            };\n            if (QuizPage.isCoordinateExist(mousePos.x, mousePos.y, this.coordinates, this.pinSize / this.vMin)) {\n                canvas.style.cursor = \"pointer\";\n            } else {\n                canvas.style.cursor = \"auto\";\n            }\n        }.bind(this), false);\n    }\n\n    renderCanvas(canvas: HTMLCanvasElement) {\n        console.log('AddQuiz page: recreating canvas');\n\n        let context = canvas.getContext('2d');\n\n        // Load background image\n        let bg = new Image();\n        bg.src = this.picture;\n        bg.addEventListener(\"load\", function () {\n            // Calculate canvas size\n            if (bg.height < bg.width) {\n                canvas.width = (window.innerWidth) * 0.90;\n                canvas.height = bg.height * canvas.width / bg.width;\n            } else {\n                canvas.height = (window.innerHeight) * 0.90;\n                canvas.width = bg.width * canvas.height / bg.height;\n            }\n            console.log(\"Screen size: \" + window.innerHeight + \" x \" + window.innerWidth + \" / Image size: \" + bg.height + \" x \" + bg.width + \" / Canvas size: \" + canvas.height + \" x \" + canvas.width);\n            this.vMin = QuizPage.getMinimum(canvas.height, canvas.width);\n            this.pinSize = QuizPage.calculatePinSize(canvas.width, canvas.height);\n\n            // Draw background image\n            context.drawImage(bg, 0, 0, canvas.width, canvas.height);\n\n            // Draw coordinates\n            let dotImg = new Image();\n            dotImg.src = 'assets/dot.png';\n            dotImg.addEventListener(\"load\", function () {\n                this.coordinates.forEach(function (pos) {\n                    context.drawImage(dotImg, pos.x * canvas.width, pos.y * canvas.height, this.pinSize, this.pinSize);\n                }.bind(this));\n            }.bind(this));\n        }.bind(this));\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad AddquizPage');\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addquiz/addquiz.ts","import {Component} from '@angular/core';\nimport {NavController, NavParams, ViewController} from 'ionic-angular';\n\n\n/**\n * Generated class for the AddquizModalPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n    selector: 'page-addquiz-modal',\n    templateUrl: 'addquiz-modal.html',\n})\nexport class AddquizModalPage {\n    public NewOtherName: string;\n    public OtherNames = [];\n    public Title: string;\n\n    constructor(public viewCtrl: ViewController) {\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad AddquizModalPage');\n    }\n\n    AddMoreName(name: string) {\n        if (this.OtherNames.indexOf(name) == -1 && !(name === \"\")) {\n            this.OtherNames.push(name);\n        }\n        this.NewOtherName = \"\";\n    }\n\n    save() {\n        let data = {\n            Title: this.Title,\n            OtherNames: this.OtherNames,\n        };\n        this.viewCtrl.dismiss(data);\n    }\n\n    deleteName(name: string) {\n        let index = this.OtherNames.indexOf(name);\n        this.OtherNames.splice(index, 1);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addquiz-modal/addquiz-modal.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport * as Chart from 'chart.js/dist/Chart';\n/**\n * Generated class for the StatPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-stat',\n  templateUrl: 'stat.html',\n})\nexport class StatPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad StatPage');\n      let ChartCanvas = new Chart(document.getElementById('StatChart'), {\n          type: 'bar',\n          data: {\n              labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\n              datasets: [{\n                  label: '# of Votes',\n                  data: [12, 19, 3, 5, 2, 3],\n                  backgroundColor: [\n                      'rgba(255, 99, 132, 0.2)',\n                      'rgba(54, 162, 235, 0.2)',\n                      'rgba(255, 206, 86, 0.2)',\n                      'rgba(75, 192, 192, 0.2)',\n                      'rgba(153, 102, 255, 0.2)',\n                      'rgba(255, 159, 64, 0.2)'\n                  ],\n                  borderColor: [\n                      'rgba(255,99,132,1)',\n                      'rgba(54, 162, 235, 1)',\n                      'rgba(255, 206, 86, 1)',\n                      'rgba(75, 192, 192, 1)',\n                      'rgba(153, 102, 255, 1)',\n                      'rgba(255, 159, 64, 1)'\n                  ],\n                  borderWidth: 1\n              }]\n          },\n          options: {\n              scales: {\n                  yAxes: [{\n                      ticks: {\n                          beginAtZero:true\n                      }\n                  }]\n              }\n          }\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat/stat.ts","import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {ErrorHandler, NgModule} from '@angular/core';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {Camera} from '@ionic-native/camera';\n\nimport {FeaturesPage} from '../pages/features/features';\nimport {MyApp} from './app.component';\nimport {HomePage} from '../pages/home/home';\nimport {MasterPage} from '../pages/master/master';\nimport {QuizPage} from '../pages/quiz/quiz';\nimport {AddquizPage} from '../pages/addquiz/addquiz';\nimport {StatPage} from '../pages/stat/stat';\nimport {AddquizModalPage} from \"../pages/addquiz-modal/addquiz-modal\"\nimport {AngularFireModule} from \"angularfire2\";\nimport {AngularFireDatabaseModule} from \"angularfire2/database\";\nimport {AngularFireAuthModule} from \"angularfire2/auth\";\nimport {CameraMock, Helper} from './helper';\nimport {IonicStorageModule} from \"@ionic/storage\";\nimport {Firebase} from \"@ionic-native/firebase\";\n\n\nexport const firebaseConfig = {\n    apiKey: \"AIzaSyDfUf1_8WfdaxNY5SJkA8SxMqPY-c1iNZs\",\n    authDomain: \"recall-6c78e.firebaseapp.com\",\n    databaseURL: \"https://recall-6c78e.firebaseio.com\",\n    projectId: \"recall-6c78e\",\n    storageBucket: \"recall-6c78e.appspot.com\",\n    messagingSenderId: \"642647451373\"\n};\n\n@NgModule({\n    declarations: [\n        MyApp,\n        HomePage,\n        FeaturesPage,\n        MasterPage,\n        AddquizPage,\n        QuizPage,\n        AddquizModalPage,\n        StatPage\n    ],\n    imports: [\n        BrowserModule,\n        IonicModule.forRoot(MyApp),\n        IonicStorageModule.forRoot(),\n        AngularFireModule.initializeApp(firebaseConfig),\n        AngularFireDatabaseModule,\n        AngularFireAuthModule\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [\n        MyApp,\n        HomePage,\n        FeaturesPage,\n        MasterPage,\n        QuizPage,\n        AddquizPage,\n        AddquizModalPage,\n        StatPage\n    ],\n    providers: [\n        StatusBar,\n        SplashScreen,\n        {provide: Camera, useClass: CameraMock},\n        {provide: ErrorHandler, useClass: IonicErrorHandler},\n        Firebase,\n        Helper\n    ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component} from '@angular/core';\nimport {Platform} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\n\nimport {MasterPage} from '../pages/master/master';\nimport {Firebase} from \"@ionic-native/firebase\";\nimport {AngularFireAuth} from \"angularfire2/auth\";\nimport * as firebase from 'firebase/app';\nimport {AngularFireDatabase} from \"angularfire2/database\";\n\n@Component({\n    templateUrl: 'app.html'\n})\nexport class MyApp {\n    rootPage: any = MasterPage;\n\n    constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, private afAuth: AngularFireAuth, db: AngularFireDatabase) {\n        platform.ready().then(() => {\n            // Okay, so the platform is ready and our plugins are available.\n            // Here you can do any higher level native things you might need.\n            statusBar.styleDefault();\n            splashScreen.hide();\n\n            // Firebase Authentication Setup (Angularfire2)\n            afAuth.auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);\n        });\n\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {AngularFireDatabase} from \"angularfire2/database\";\nimport {UserInfo} from \"firebase/app\";\n\nexport class UserModel implements UserInfo {\n\n    public displayName: string | null;\n    public email: string | null;\n    public phoneNumber: string | null;\n    public photoURL: string | null;\n    public providerId: string;\n    public uid: string;\n\n    public deviceToken: string|null;\n\n    public createdAt: number;\n    public modifiedAt: number;\n\n    constructor(obj: any) {\n        this.displayName = obj.displayName || null;\n        this.email = obj.email || null;\n        this.phoneNumber = obj.phoneNumber || null;\n        this.photoURL = obj.photoURL || null;\n        this.providerId = obj.providerId;\n        this.uid = obj.uid;\n\n        this.createdAt = obj.createdAt || Date.now();\n        this.modifiedAt = Date.now();\n    }\n\n    public setDeviceToken (token: string) {\n        console.log(\"Set device token (\"+token.length+\")\");\n        this.deviceToken = token;\n        return this;\n    }\n\n    public save(db: AngularFireDatabase) {\n        return db.app.database().ref(\"/users\").child(this.uid).set(this);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.ts","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport {AlertController, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Storage} from '@ionic/storage';\n\nimport {QuizModel} from '../../models/quiz';\nimport {AngularFireAuth} from \"angularfire2/auth\";\nimport {AngularFireDatabase} from \"angularfire2/database\";\nimport {Firebase} from \"@ionic-native/firebase\";\n\n/**\n * Generated class for the QuizPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n    selector: 'page-quiz',\n    templateUrl: 'quiz.html',\n})\nexport class QuizPage {\n    public quiz: QuizModel;\n    public isOwner: boolean;\n    public isQuizMode: boolean = true;\n    public modeIcon: string = \"key\";\n    private answers: {\n        [key: string]: string\n    } = {};\n    private pinSize: number;\n    private vMin: number;\n    public canCheck: boolean;\n    public answerCheck: {\n        [key: string]: string\n    } = {};\n    public isChecked: boolean;\n    /**\n     * 'plug into' DOM canvas element using @ViewChild\n     */\n    @ViewChild('canvas') canvasEl: ElementRef;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, public afAuth: AngularFireAuth, private db: AngularFireDatabase, public toastCtrl: ToastController, public loadingCtrl: LoadingController, private storage: Storage, public alertCtrl: AlertController, private fb: Firebase) {\n        this.quiz = navParams.get('quiz');\n        fb.setScreenName(\"quiz\");\n\n        storage.get('quiz_mode').then(function (val) {\n            this.setQuizMode(val);\n        }.bind(this));\n    }\n\n    setQuizMode(mode?: boolean) {\n        let isModeChanged = mode == undefined;\n        if (mode == null) {\n            mode = !this.isQuizMode;\n        }\n        this.isQuizMode = mode;\n        this.modeIcon = mode ? \"key\" : \"help\";\n        this.storage.set('quiz_mode', mode);\n        if (isModeChanged) {\n            this.toastCtrl.create({\n                message: \"Switched to \" + (mode ? \"quiz\" : \"key\") + \" mode\",\n                duration: 3000\n            }).present();\n            this.navCtrl.pop();\n            this.navCtrl.push(QuizPage, {\n                quiz: this.quiz\n            });\n        }\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad QuizPage', this.quiz);\n\n        if (this.afAuth.auth.currentUser) {\n            this.isOwner = this.quiz.owner == this.afAuth.auth.currentUser.uid;\n        }\n\n        // Load background image\n        let canvas = this.canvasEl.nativeElement;\n        const coordinates = this.quiz.labels;\n        this.renderCanvas(canvas, coordinates);\n\n        // Set up mouse events\n        canvas.addEventListener(\"mouseup\", function (e) {\n            let rect = canvas.getBoundingClientRect();\n            let halfPin = this.pinSize / 2;\n            let mousePos = {\n                x: e.clientX - (rect.left + halfPin),\n                y: e.clientY - (rect.top + halfPin)\n            };\n            let exist = QuizPage.isCoordinateExist(mousePos.x / canvas.width, mousePos.y / canvas.height, coordinates, this.pinSize / this.vMin);\n            if (exist) {\n                if (this.isQuizMode) {\n                    this.alertCtrl.create({\n                        title: 'What is this?',\n                        inputs: [\n                            {\n                                name: 'answer',\n                                placeholder: 'Answer',\n                                type: \"text\",\n                                value: (typeof exist === \"string\" && exist in this.answers) ? this.answers[exist] : \"\"\n                            },\n                        ],\n                        buttons: [\n                            {\n                                text: 'Cancel',\n                                handler: () => {\n                                    console.log('Cancel clicked');\n                                }\n                            },\n                            {\n                                text: 'Submit',\n                                handler: function (data) {\n                                    if (typeof exist === \"string\" && data.answer.trim().length > 0) {\n                                        this.answers[exist] = data.answer.trim();\n                                        this.renderCanvas(canvas, coordinates);\n                                        this.canCheck = true;\n                                        this.isChecked = false;\n                                        this.answerCheck = {};\n                                        console.log('Answered!', this.answers);\n                                    }\n                                }.bind(this)\n                            }\n                        ]\n                    }).present();\n                } else {\n                    this.toastCtrl.create({\n                        message: exist,\n                        duration: 3000,\n                        position: \"top\"\n                    }).present();\n                }\n            }\n        }.bind(this), false);\n        canvas.addEventListener(\"mousemove\", function (e) {\n            let rect = canvas.getBoundingClientRect();\n            let halfPin = this.pinSize / 2;\n            let mousePos = {\n                x: e.clientX - (rect.left + halfPin),\n                y: e.clientY - (rect.top + halfPin)\n            };\n            if (QuizPage.isCoordinateExist(mousePos.x / canvas.width, mousePos.y / canvas.height, coordinates, this.pinSize / this.vMin)) {\n                canvas.style.cursor = \"pointer\";\n            } else {\n                canvas.style.cursor = \"auto\";\n            }\n        }.bind(this), false);\n    }\n\n    renderCanvas(canvas: HTMLCanvasElement, coordinates: Array<any>) {\n        let context = canvas.getContext('2d');\n\n        // Load background image\n        let bg = new Image();\n        bg.src = this.quiz.picture;\n        bg.addEventListener(\"load\", function () {\n            // Calculate canvas size\n            if (bg.height < bg.width) {\n                canvas.width = (window.innerWidth) * 0.95;\n                canvas.height = bg.height * canvas.width / bg.width;\n            } else {\n                canvas.height = (window.innerHeight) * 0.95;\n                canvas.width = bg.width * canvas.height / bg.height;\n            }\n            console.log(\"Recreating canvas: Screen size: \" + window.innerHeight + \" x \" + window.innerWidth + \" / Image size: \" + bg.height + \" x \" + bg.width + \" / Canvas size: \" + canvas.height + \" x \" + canvas.width);\n            this.vMin = QuizPage.getMinimum(canvas.height, canvas.width);\n            this.pinSize = QuizPage.calculatePinSize(canvas.width, canvas.height);\n\n            // Draw background image\n            context.drawImage(bg, 0, 0, canvas.width, canvas.height);\n\n            // Draw coordinates\n            let dotImg = new Image();\n            dotImg.src = 'assets/dot.png';\n            dotImg.addEventListener(\"load\", function () {\n                coordinates.forEach(function (pos) {\n                    context.drawImage(dotImg, pos.x * canvas.width, pos.y * canvas.height, this.pinSize, this.pinSize);\n                }.bind(this));\n            }.bind(this));\n\n            // Draw coordinates of answered\n            let ansImg = new Image();\n            ansImg.src = 'assets/dot-answered.png';\n            ansImg.addEventListener(\"load\", function () {\n                coordinates.filter(function (pos) {\n                    return pos.name in this.answers && this.answers[pos.name];\n                }.bind(this)).forEach(function (pos) {\n                    context.drawImage(ansImg, pos.x * canvas.width, pos.y * canvas.height, this.pinSize, this.pinSize);\n                }.bind(this));\n            }.bind(this));\n\n            if (Object.keys(this.answerCheck).length > 0) {\n                let incImg = new Image();\n                incImg.src = 'assets/dot-incorrect.png';\n                incImg.addEventListener(\"load\", function () {\n                    coordinates.filter(function (pos) {\n                        return !this.answerCheck[pos.name];\n                    }.bind(this)).forEach(function (pos) {\n                        context.drawImage(incImg, pos.x * canvas.width, pos.y * canvas.height, this.pinSize, this.pinSize);\n                    }.bind(this));\n                }.bind(this));\n\n                let corImg = new Image();\n                corImg.src = 'assets/dot-correct.png';\n                corImg.addEventListener(\"load\", function () {\n                    coordinates.filter(function (pos) {\n                        return this.answerCheck[pos.name];\n                    }.bind(this)).forEach(function (pos) {\n                        context.drawImage(corImg, pos.x * canvas.width, pos.y * canvas.height, this.pinSize, this.pinSize);\n                    }.bind(this));\n                }.bind(this));\n            }\n        }.bind(this));\n    }\n\n    public checkAnswer() {\n        if (this.canCheck) {\n            this.quiz.labels.forEach(function (label) {\n                if (label.name in this.answers) {\n                    let answer = this.answers[label.name].trim().toUpperCase();\n                    this.answerCheck[label.name] = answer == label.name.trim().toUpperCase() || (label.other_name instanceof Array && label.other_name.map(function (i) {\n                        return i.trim().toUpperCase();\n                    }).includes(answer));\n                } else {\n                    // Not answered\n                    this.answerCheck[label.name] = false;\n                }\n            }.bind(this));\n            this.canCheck = false;\n            this.isChecked = true;\n            }\n            this.renderCanvas(this.canvasEl.nativeElement, this.quiz.labels);\n        let Counter = this.quiz.stat['counter'];\n        let updateQuiz = {\n            stat: {\n                counter: Counter + 1,\n                rate: 44,\n            }\n        };\n        //@todo implement quiz rate here\n        console.log(updateQuiz);\n        this.quiz.update(this.db, updateQuiz).catch((e) => console.log(e));\n        }\n\n\n    public deleteQuiz() {\n        console.log(\"Deleting quiz \" + this.quiz.$key);\n        let loader = this.loadingCtrl.create({\n            content: \"Deleting...\"\n        });\n        loader.present();\n        (new QuizModel(this.quiz)).deleteMe(this.db).then(function () {\n            this.toastCtrl.create({\n                message: 'Deleted quiz!',\n                duration: 3000\n            }).present();\n            this.navCtrl.pop();\n            loader.dismissAll();\n        }.bind(this));\n    }\n\n// Return minimum value of parameter provided\n    static getMinimum(a, b) {\n        return (a > b) ? b : a;\n    }\n\n    static getMaximum(a, b) {\n        return (a < b) ? b : a;\n    }\n\n    static calculatePinSize(width, height) {\n        return QuizPage.getMaximum(QuizPage.getMinimum(height, width) / 20, 25);\n    }\n\n    /**\n     * Is (x,y) already exist in coordinates array\n     * @param {int} x X axis value\n     * @param {int} y Y axis value\n     * @param {array} previous coordinates storage\n     * @param {int} threshold size of pin\n     */\n    static isCoordinateExist(x, y, previous, threshold): string | boolean {\n        let isFound = false;\n        previous.forEach(function (e) {\n            if (QuizPage.coordinateDistance({x: x, y: y}, e) <= threshold * 0.5) {\n                isFound = e.name;\n            }\n        });\n        return isFound;\n    }\n\n    // Calculate distance between two coordinates\n    static coordinateDistance(a, b) {\n        return Math.sqrt(Math.pow((a.x - b.x), 2) + Math.pow((a.y - b.y), 2));\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/quiz/quiz.ts","import {AngularFireDatabase} from \"angularfire2/database\";\nimport {FirebaseApp} from \"angularfire2\";\nimport {FirebaseListFactoryOpts} from \"angularfire2/interfaces\";\n\nexport class QuizModel {\n\n    public $key: string | null;\n    public name: string;\n    public picture: string | null;\n    public picture_on_gz: string | null;\n    public caption: string;\n    public owner: string | null;\n    public rate: number | null;\n    public counter : number | null;\n    public stat : Array<{\n        counter: number,\n        rate: number,\n    }>;\n    public labels: Array<{\n        name: string,label\n        other_name: Array<string>,\n        x: number,\n        y: number\n    }>;\n    public created_at: number;\n\n    constructor(obj: any, protected firebaseApp?: FirebaseApp) {\n        this.$key = obj.$key || null;\n        this.name = obj.name;\n        this.picture = obj.picture || null;\n        this.picture_on_gz = obj.picture_on_gz || null;\n        this.caption = obj.caption || '';\n        this.owner = obj.owner;\n        this.labels = obj.labels;\n        this.stat = obj.stat;\n        this.created_at = Date.now();\n        if (firebaseApp != undefined) {\n            this.setPictureUrl();\n        }\n    }\n\n    static fetch(db: AngularFireDatabase, opts?: FirebaseListFactoryOpts) {\n        return db.list(\"/quizzes\", opts);\n    }\n\n    public save(db: AngularFireDatabase) {\n        if (this.picture_on_gz) {\n            this.picture = null;\n        }\n        if (!this.$key) {\n            delete this.$key;\n        }\n        delete this.firebaseApp;\n        if (this.$key) {\n            return db.app.database().ref(\"/quizzes\").child(this.$key).set(this);\n        } else {\n            let objectRef = db.app.database().ref(\"/quizzes\").push(this);\n            this.$key = objectRef.key;\n            return objectRef;\n        }\n    }\n\n    public update(db:AngularFireDatabase, obj: any){\n        return db.app.database().ref(\"/quizzes\").child(this.$key).update(obj);\n    }\n\n    public deleteMe(db: AngularFireDatabase) {\n        return db.app.database().ref(\"/quizzes\").child(this.$key).remove();\n    }\n\n    private setPictureUrl() {\n        if (this.picture_on_gz) {\n            console.log(\"Getting picture url\");\n            this.firebaseApp.storage().ref().child(\"quiz_pictures\").child(this.picture_on_gz).getDownloadURL().then(function (url) {\n                this.picture = url;\n            }.bind(this)).catch(function (error) {\n                // Handle any errors\n            });\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/quiz.ts"],"sourceRoot":""}